{"version":3,"sources":["Carousel.js","Modal.js","Details.js"],"names":["Carousel","state","photos","active","handleIndexClick","setState","event","target","dataset","index","value","map","photo","media","filter","React","Component","Modal","props","el","document","createElement","modalRoot","getElementById","appendChild","removeChild","children","petfinder","key","secret","Details","loading","showModal","toggleModal","pet","get","output","id","then","data","breed","Array","isArray","breeds","join","name","animal","location","contact","city","description","catch"],"mappings":"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","file":"Details.97570207.map","sourceRoot":"..\\src","sourcesContent":["import React from \"react\";\r\n\r\nclass Carousel extends React.Component {\r\n  state = {\r\n    photos: [],\r\n    active: 0\r\n  };\r\n\r\n  static getDerivedStateFromProps({ media }) {\r\n    let photos = [];\r\n    if (media && media.photos && media.photos.photo) {\r\n      photos = media.photos.photo.filter(photo => photo[\"@size\"] === \"pn\");\r\n    }\r\n    return { photos };\r\n  }\r\n  handleIndexClick = event => {\r\n    this.setState({\r\n      active: +event.target.dataset.index\r\n    });\r\n  };\r\n  render() {\r\n    const { photos, active } = this.state;\r\n    return (\r\n      <div className=\"carousel\">\r\n        <img src={photos[active].value} alt=\"primary animal\" />\r\n        <div className=\"carousel-smaller\">\r\n          {photos.map((photo, index) => (\r\n            /* eslint-disable-next-line */\r\n            <img\r\n              onClick={this.handleIndexClick}\r\n              key={photo.value}\r\n              alt=\"animal thumbnail\"\r\n              data-index={index}\r\n              src={photo.value}\r\n              className={index === active ? \"active\" : \"\"}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Carousel;\r\n","import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.el = document.createElement(\"div\");\r\n    this.modalRoot = document.getElementById(\"modal\");\r\n    this.modalRoot.appendChild(this.el);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.modalRoot.removeChild(this.el);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(this.props.children, this.el);\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport pf from \"petfinder-client\";\r\nimport { navigate } from \"@reach/router\";\r\nimport Carousel from \"./Carousel\";\r\nimport Modal from \"./Modal\";\r\n\r\nconst petfinder = pf({\r\n  key: process.env.API_KEY,\r\n  secret: process.env.API_SECRET\r\n});\r\n\r\nclass Details extends React.Component {\r\n  state = {\r\n    loading: true,\r\n    showModal: false\r\n  };\r\n  toggleModal = () => {\r\n    this.setState({\r\n      showModal: !this.state.showModal\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    petfinder.pet\r\n      .get({\r\n        output: \"full\",\r\n        id: this.props.id\r\n      })\r\n      .then(data => {\r\n        const pet = data.petfinder.pet;\r\n        let breed;\r\n        if (Array.isArray(pet.breeds.breed)) {\r\n          breed = pet.breeds.breed.join(\", \");\r\n        } else {\r\n          breed = pet.breeds.breed;\r\n        }\r\n\r\n        this.setState({\r\n          name: pet.name,\r\n          animal: pet.animal,\r\n          breed,\r\n          location: `${pet.contact.city}, ${pet.contact.state}`,\r\n          description: pet.description,\r\n          media: pet.media,\r\n          loading: false\r\n        });\r\n      })\r\n      .catch(() => navigate(\"/\"));\r\n  }\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <h1>Loading.....</h1>;\r\n    }\r\n\r\n    const {\r\n      name,\r\n      animal,\r\n      breed,\r\n      location,\r\n      description,\r\n      media,\r\n      showModal\r\n    } = this.state;\r\n    return (\r\n      <div className=\"details\">\r\n        <Carousel media={media} />\r\n        <div>\r\n          <h1>{name}</h1>\r\n          <h2>\r\n            {animal} -{breed} - {location}\r\n          </h2>\r\n          <button onClick={this.toggleModal}>Adopt {name}</button>\r\n          <p>{description}</p>\r\n          {showModal ? (\r\n            <Modal>\r\n              <h1>WOuld you like to adopt {name}</h1>\r\n              <div className=\"buttons\">\r\n                <button onClick={this.toggleModal}>Yes</button>\r\n                <button onClick={this.toggleModal}>Definitely Yes</button>\r\n              </div>\r\n            </Modal>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Details;\r\n"]}